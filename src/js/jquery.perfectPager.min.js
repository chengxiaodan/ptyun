!function(e){var a={init:function(e,n){return function(){a.fillHtml(e,n),a.bindEvent(e,n)}()},fillHtml:function(e,a){return function(){e.empty(),e.addClass("perfectPager"),a.current>1?e.append('<a href="javascript:void(0);" class="prevPage">上一页</a>'):(e.remove(".prevPage"),e.append('<span class="disabled">上一页</span>')),1!=a.current&&a.current>=4&&4!=a.pageCount&&!a.easyMode&&e.append('<a href="javascript:void(0);" class="chNumber">1</a>'),a.current-2>2&&a.current<=a.pageCount&&a.pageCount>4&&!a.easyMode&&e.append("<span>...</span>");var n=a.current-2,t=a.current+2;for((n>1&&a.current<4||1==a.current)&&(a.easyMode?t+=2:t++),2==a.current&&a.easyMode&&t++,a.current>a.pageCount-4&&a.current>=a.pageCount&&(a.easyMode?n-=2:n--),a.current==a.pageCount-1&&a.easyMode&&n--;n<=t;n++)n<=a.pageCount&&n>=1&&(n!=a.current?e.append('<a href="javascript:void(0);" class="chNumber">'+n+"</a>"):e.append('<span class="current">'+n+"</span>"));a.current+2<a.pageCount-1&&a.current>=1&&a.pageCount>4&&!a.easyMode&&e.append("<span>...</span>"),a.current!=a.pageCount&&a.current<a.pageCount-2&&4!=a.pageCount&&!a.easyMode&&e.append('<a href="javascript:void(0);" class="chNumber">'+a.pageCount+"</a>"),a.current<a.pageCount?e.append('<a href="javascript:void(0);" class="nextPage">下一页</a>'):(e.remove(".nextPage"),e.append('<span class="disabled">下一页</span>'))}()},bindEvent:function(n,t){return function(){n.off("click","a.chNumber"),n.off("click","a.prevPage"),n.off("click","a.nextPage"),n.on("click","a.chNumber",function(r){var c=parseInt(e(this).text());a.fillHtml(n,{current:c,pageCount:t.pageCount,easyMode:t.easyMode}),"function"==typeof t.callback&&t.callback(c),r.preventDefault()}),n.on("click","a.prevPage",function(e){var r=parseInt(n.children("span.current").text());a.fillHtml(n,{current:r-1,pageCount:t.pageCount,easyMode:t.easyMode}),"function"==typeof t.callback&&t.callback(r-1),e.preventDefault()}),n.on("click","a.nextPage",function(e){var r=parseInt(n.children("span.current").text());a.fillHtml(n,{current:r+1,pageCount:t.pageCount,easyMode:t.easyMode}),"function"==typeof t.callback&&t.callback(r+1),e.preventDefault()})}()}};e.fn.perfectPager=function(n){var t=e.extend({pageCount:5,current:1,easyMode:!0,callback:function(){}},n);return a.init(this,t),this}}(jQuery);